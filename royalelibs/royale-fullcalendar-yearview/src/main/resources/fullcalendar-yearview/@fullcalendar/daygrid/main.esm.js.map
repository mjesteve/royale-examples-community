{"version":3,"file":"main.esm.js","sources":["../../../node_modules/tslib/tslib.es6.js","../src/DayGridDateProfileGenerator.ts","../src/Popover.ts","../src/SimpleDayGridEventRenderer.ts","../src/DayGridEventRenderer.ts","../src/DayGridMirrorRenderer.ts","../src/DayGridFillRenderer.ts","../src/DayTile.ts","../src/DayBgRow.ts","../src/DayGrid.ts","../src/AbstractDayGridView.ts","../src/SimpleDayGrid.ts","../src/DayGridView.ts","../src/main.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import {\n  DateProfileGenerator,\n  addWeeks, diffWeeks,\n  DateRange\n} from '@fullcalendar/core'\n\nexport default class DayGridDateProfileGenerator extends DateProfileGenerator {\n\n  // Computes the date range that will be rendered.\n  buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay): DateRange {\n    let { dateEnv } = this\n    let renderRange = super.buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay)\n    let start = renderRange.start\n    let end = renderRange.end\n    let endOfWeek\n\n    // year and month views should be aligned with weeks. this is already done for week\n    if (/^(year|month)$/.test(currentRangeUnit)) {\n      start = dateEnv.startOfWeek(start)\n\n      // make end-of-week if not already\n      endOfWeek = dateEnv.startOfWeek(end)\n      if (endOfWeek.valueOf() !== end.valueOf()) {\n        end = addWeeks(endOfWeek, 1)\n      }\n    }\n\n    // ensure 6 weeks\n    if (\n      this.options.monthMode &&\n      this.options.fixedWeekCount\n    ) {\n      let rowCnt = Math.ceil( // could be partial weeks due to hiddenDays\n        diffWeeks(start, end)\n      )\n      end = addWeeks(end, 6 - rowCnt)\n    }\n\n    return { start, end }\n  }\n\n}\n","\n/* A rectangular panel that is absolutely positioned over other content\n------------------------------------------------------------------------------------------------------------------------\nOptions:\n  - className (string)\n  - content (HTML string, element, or element array)\n  - parentEl\n  - top\n  - left\n  - right (the x coord of where the right edge should be. not a \"CSS\" right)\n  - autoHide (boolean)\n  - show (callback)\n  - hide (callback)\n*/\n\nimport {\n  removeElement, createElement, applyStyle,\n  listenBySelector,\n  computeClippingRect, computeRect\n} from '@fullcalendar/core'\n\nexport interface PopoverOptions {\n  className?: string\n  content?: (el: HTMLElement) => void\n  parentEl: HTMLElement\n  autoHide?: boolean\n  top?: number\n  left?: number\n  right?: number\n  viewportConstrain?: boolean\n}\n\nexport default class Popover {\n\n  isHidden: boolean = true\n  options: PopoverOptions\n  el: HTMLElement // the container element for the popover. generated by this object\n  margin: number = 10 // the space required between the popover and the edges of the scroll container\n\n\n  constructor(options: PopoverOptions) {\n    this.options = options\n  }\n\n\n  // Shows the popover on the specified position. Renders it if not already\n  show() {\n    if (this.isHidden) {\n      if (!this.el) {\n        this.render()\n      }\n      this.el.style.display = ''\n      this.position()\n      this.isHidden = false\n      this.trigger('show')\n    }\n  }\n\n\n  // Hides the popover, through CSS, but does not remove it from the DOM\n  hide() {\n    if (!this.isHidden) {\n      this.el.style.display = 'none'\n      this.isHidden = true\n      this.trigger('hide')\n    }\n  }\n\n\n  // Creates `this.el` and renders content inside of it\n  render() {\n    let options = this.options\n    let el = this.el = createElement('div', {\n      className: 'fc-popover ' + (options.className || ''),\n      style: {\n        top: '0',\n        left: '0'\n      }\n    })\n\n    if (typeof options.content === 'function') {\n      options.content(el)\n    }\n\n    options.parentEl.appendChild(el)\n\n    // when a click happens on anything inside with a 'fc-close' className, hide the popover\n    listenBySelector(el, 'click', '.fc-close', (ev) => {\n      this.hide()\n    })\n\n    if (options.autoHide) {\n      document.addEventListener('mousedown', this.documentMousedown)\n    }\n  }\n\n\n  // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n  documentMousedown = (ev) => {\n    // only hide the popover if the click happened outside the popover\n    if (this.el && !this.el.contains(ev.target)) {\n      this.hide()\n    }\n  }\n\n\n  // Hides and unregisters any handlers\n  destroy() {\n    this.hide()\n\n    if (this.el) {\n      removeElement(this.el)\n      this.el = null\n    }\n\n    document.removeEventListener('mousedown', this.documentMousedown)\n  }\n\n\n  // Positions the popover optimally, using the top/left/right options\n  position() {\n    let options = this.options\n    let el = this.el\n    let elDims = el.getBoundingClientRect() // only used for width,height\n    let origin = computeRect(el.offsetParent)\n    let clippingRect = computeClippingRect(options.parentEl)\n    let top // the \"position\" (not \"offset\") values for the popover\n    let left //\n\n    // compute top and left\n    top = options.top || 0\n    if (options.left !== undefined) {\n      left = options.left\n    } else if (options.right !== undefined) {\n      left = options.right - elDims.width // derive the left value from the right value\n    } else {\n      left = 0\n    }\n\n    // constrain to the view port. if constrained by two edges, give precedence to top/left\n    top = Math.min(top, clippingRect.bottom - elDims.height - this.margin)\n    top = Math.max(top, clippingRect.top + this.margin)\n    left = Math.min(left, clippingRect.right - elDims.width - this.margin)\n    left = Math.max(left, clippingRect.left + this.margin)\n\n    applyStyle(el, {\n      top: top - origin.top,\n      left: left - origin.left\n    })\n  }\n\n\n  // Triggers a callback. Calls a function in the option hash of the same name.\n  // Arguments beyond the first `name` are forwarded on.\n  // TODO: better code reuse for this. Repeat code\n  // can kill this???\n  trigger(name) {\n    if (this.options[name]) {\n      this.options[name].apply(this, Array.prototype.slice.call(arguments, 1))\n    }\n  }\n\n}\n","import {\n  htmlEscape, cssToStr,\n  FgEventRenderer,\n  Seg\n} from '@fullcalendar/core'\n\n\n/* Event-rendering methods for the DayGrid class\n----------------------------------------------------------------------------------------------------------------------*/\n\n// \"Simple\" is bad a name. has nothing to do with SimpleDayGrid\nexport default abstract class SimpleDayGridEventRenderer extends FgEventRenderer {\n\n\n  // Builds the HTML to be used for the default element for an individual segment\n  renderSegHtml(seg: Seg, mirrorInfo) {\n    let { view, options } = this.context\n    let eventRange = seg.eventRange\n    let eventDef = eventRange.def\n    let eventUi = eventRange.ui\n    let allDay = eventDef.allDay\n    let isDraggable = view.computeEventDraggable(eventDef, eventUi)\n    let isResizableFromStart = allDay && seg.isStart && view.computeEventStartResizable(eventDef, eventUi)\n    let isResizableFromEnd = allDay && seg.isEnd && view.computeEventEndResizable(eventDef, eventUi)\n    let classes = this.getSegClasses(seg, isDraggable, isResizableFromStart || isResizableFromEnd, mirrorInfo)\n    let skinCss = cssToStr(this.getSkinCss(eventUi))\n    let timeHtml = ''\n    let timeText\n    let titleHtml\n\n    classes.unshift('fc-day-grid-event', 'fc-h-event')\n\n    // Only display a timed events time if it is the starting segment\n    if (seg.isStart) {\n      timeText = this.getTimeText(eventRange)\n      if (timeText) {\n        timeHtml = '<span class=\"fc-time\">' + htmlEscape(timeText) + '</span>'\n      }\n    }\n\n    titleHtml =\n      '<span class=\"fc-title\">' +\n        (htmlEscape(eventDef.title || '') || '&nbsp;') + // we always want one line of height\n      '</span>'\n\n    return '<a class=\"' + classes.join(' ') + '\"' +\n        (eventDef.url ?\n          ' href=\"' + htmlEscape(eventDef.url) + '\"' :\n          ''\n          ) +\n        (skinCss ?\n          ' style=\"' + skinCss + '\"' :\n          ''\n          ) +\n      '>' +\n        '<div class=\"fc-content\">' +\n          (options.dir === 'rtl' ?\n            titleHtml + ' ' + timeHtml : // put a natural space in between\n            timeHtml + ' ' + titleHtml   //\n            ) +\n        '</div>' +\n        (isResizableFromStart ?\n          '<div class=\"fc-resizer fc-start-resizer\"></div>' :\n          ''\n          ) +\n        (isResizableFromEnd ?\n          '<div class=\"fc-resizer fc-end-resizer\"></div>' :\n          ''\n          ) +\n      '</a>'\n  }\n\n\n  // Computes a default event time formatting string if `eventTimeFormat` is not explicitly defined\n  computeEventTimeFormat() {\n    return {\n      hour: 'numeric',\n      minute: '2-digit',\n      omitZeroMinute: true,\n      meridiem: 'narrow'\n    }\n  }\n\n\n  computeDisplayEventEnd() {\n    return false // TODO: somehow consider the originating DayGrid's column count\n  }\n\n}\n","import {\n  createElement,\n  removeElement,\n  appendToElement,\n  prependToElement,\n  Seg\n} from '@fullcalendar/core'\nimport DayGrid from './DayGrid'\nimport SimpleDayGridEventRenderer from './SimpleDayGridEventRenderer'\n\n\n/* Event-rendering methods for the DayGrid class\n----------------------------------------------------------------------------------------------------------------------*/\n\nexport default class DayGridEventRenderer extends SimpleDayGridEventRenderer {\n\n  dayGrid: DayGrid\n  rowStructs: any // an array of objects, each holding information about a row's foreground event-rendering\n\n\n  constructor(dayGrid: DayGrid) {\n    super(dayGrid.context)\n\n    this.dayGrid = dayGrid\n  }\n\n\n  // Renders the given foreground event segments onto the grid\n  attachSegs(segs: Seg[], mirrorInfo) {\n    let rowStructs = this.rowStructs = this.renderSegRows(segs)\n\n    // append to each row's content skeleton\n    this.dayGrid.rowEls.forEach(function(rowNode, i) {\n      rowNode.querySelector('.fc-content-skeleton > table').appendChild(\n        rowStructs[i].tbodyEl\n      )\n    })\n\n    // removes the \"more..\" events popover\n    if (!mirrorInfo) {\n      this.dayGrid.removeSegPopover()\n    }\n  }\n\n\n  // Unrenders all currently rendered foreground event segments\n  detachSegs() {\n    let rowStructs = this.rowStructs || []\n    let rowStruct\n\n    while ((rowStruct = rowStructs.pop())) {\n      removeElement(rowStruct.tbodyEl)\n    }\n\n    this.rowStructs = null\n  }\n\n\n  // Uses the given events array to generate <tbody> elements that should be appended to each row's content skeleton.\n  // Returns an array of rowStruct objects (see the bottom of `renderSegRow`).\n  // PRECONDITION: each segment shoud already have a rendered and assigned `.el`\n  renderSegRows(segs: Seg[]) {\n    let rowStructs = []\n    let segRows\n    let row\n\n    segRows = this.groupSegRows(segs) // group into nested arrays\n\n    // iterate each row of segment groupings\n    for (row = 0; row < segRows.length; row++) {\n      rowStructs.push(\n        this.renderSegRow(row, segRows[row])\n      )\n    }\n\n    return rowStructs\n  }\n\n\n  // Given a row # and an array of segments all in the same row, render a <tbody> element, a skeleton that contains\n  // the segments. Returns object with a bunch of internal data about how the render was calculated.\n  // NOTE: modifies rowSegs\n  renderSegRow(row, rowSegs) {\n    let { dayGrid } = this\n    let { colCnt, isRtl } = dayGrid\n    let segLevels = this.buildSegLevels(rowSegs) // group into sub-arrays of levels\n    let levelCnt = Math.max(1, segLevels.length) // ensure at least one level\n    let tbody = document.createElement('tbody')\n    let segMatrix = [] // lookup for which segments are rendered into which level+col cells\n    let cellMatrix = [] // lookup for all <td> elements of the level+col matrix\n    let loneCellMatrix = [] // lookup for <td> elements that only take up a single column\n    let i\n    let levelSegs\n    let col\n    let tr: HTMLTableRowElement\n    let j\n    let seg\n    let td: HTMLTableCellElement\n\n    // populates empty cells from the current column (`col`) to `endCol`\n    function emptyCellsUntil(endCol) {\n      while (col < endCol) {\n        // try to grab a cell from the level above and extend its rowspan. otherwise, create a fresh cell\n        td = (loneCellMatrix[i - 1] || [])[col]\n        if (td) {\n          td.rowSpan = (td.rowSpan || 1) + 1\n        } else {\n          td = document.createElement('td')\n          tr.appendChild(td)\n        }\n        cellMatrix[i][col] = td\n        loneCellMatrix[i][col] = td\n        col++\n      }\n    }\n\n    for (i = 0; i < levelCnt; i++) { // iterate through all levels\n      levelSegs = segLevels[i]\n      col = 0\n      tr = document.createElement('tr')\n\n      segMatrix.push([])\n      cellMatrix.push([])\n      loneCellMatrix.push([])\n\n      // levelCnt might be 1 even though there are no actual levels. protect against this.\n      // this single empty row is useful for styling.\n      if (levelSegs) {\n        for (j = 0; j < levelSegs.length; j++) { // iterate through segments in level\n          seg = levelSegs[j]\n          let leftCol = isRtl ? (colCnt - 1 - seg.lastCol) : seg.firstCol\n          let rightCol = isRtl ? (colCnt - 1 - seg.firstCol) : seg.lastCol\n\n          emptyCellsUntil(leftCol)\n\n          // create a container that occupies or more columns. append the event element.\n          td = createElement('td', { className: 'fc-event-container' }, seg.el) as HTMLTableCellElement\n          if (leftCol !== rightCol) {\n            td.colSpan = rightCol - leftCol + 1\n          } else { // a single-column segment\n            loneCellMatrix[i][col] = td\n          }\n\n          while (col <= rightCol) {\n            cellMatrix[i][col] = td\n            segMatrix[i][col] = seg\n            col++\n          }\n\n          tr.appendChild(td)\n        }\n      }\n\n      emptyCellsUntil(colCnt) // finish off the row\n\n      let introHtml = dayGrid.renderProps.renderIntroHtml()\n      if (introHtml) {\n        if (dayGrid.isRtl) {\n          appendToElement(tr, introHtml)\n        } else {\n          prependToElement(tr, introHtml)\n        }\n      }\n\n      tbody.appendChild(tr)\n    }\n\n    return { // a \"rowStruct\"\n      row: row, // the row number\n      tbodyEl: tbody,\n      cellMatrix: cellMatrix,\n      segMatrix: segMatrix,\n      segLevels: segLevels,\n      segs: rowSegs\n    }\n  }\n\n\n  // Stacks a flat array of segments, which are all assumed to be in the same row, into subarrays of vertical levels.\n  // NOTE: modifies segs\n  buildSegLevels(segs: Seg[]) {\n    let { isRtl, colCnt } = this.dayGrid\n    let levels = []\n    let i\n    let seg\n    let j\n\n    // Give preference to elements with certain criteria, so they have\n    // a chance to be closer to the top.\n    segs = this.sortEventSegs(segs)\n\n    for (i = 0; i < segs.length; i++) {\n      seg = segs[i]\n\n      // loop through levels, starting with the topmost, until the segment doesn't collide with other segments\n      for (j = 0; j < levels.length; j++) {\n        if (!isDaySegCollision(seg, levels[j])) {\n          break\n        }\n      }\n\n      // `j` now holds the desired subrow index\n      seg.level = j\n      seg.leftCol = isRtl ? (colCnt - 1 - seg.lastCol) : seg.firstCol // for sorting only\n      seg.rightCol = isRtl ? (colCnt - 1 - seg.firstCol) : seg.lastCol // for sorting only\n\n      // create new level array if needed and append segment\n      ;(levels[j] || (levels[j] = [])).push(seg)\n    }\n\n    // order segments left-to-right. very important if calendar is RTL\n    for (j = 0; j < levels.length; j++) {\n      levels[j].sort(compareDaySegCols)\n    }\n\n    return levels\n  }\n\n\n  // Given a flat array of segments, return an array of sub-arrays, grouped by each segment's row\n  groupSegRows(segs: Seg[]) {\n    let segRows = []\n    let i\n\n    for (i = 0; i < this.dayGrid.rowCnt; i++) {\n      segRows.push([])\n    }\n\n    for (i = 0; i < segs.length; i++) {\n      segRows[segs[i].row].push(segs[i])\n    }\n\n    return segRows\n  }\n\n\n  // Computes a default `displayEventEnd` value if one is not expliclty defined\n  computeDisplayEventEnd() {\n    return this.dayGrid.colCnt === 1 // we'll likely have space if there's only one day\n  }\n\n}\n\n\n// Computes whether two segments' columns collide. They are assumed to be in the same row.\nfunction isDaySegCollision(seg: Seg, otherSegs: Seg) {\n  let i\n  let otherSeg\n\n  for (i = 0; i < otherSegs.length; i++) {\n    otherSeg = otherSegs[i]\n\n    if (\n      otherSeg.firstCol <= seg.lastCol &&\n      otherSeg.lastCol >= seg.firstCol\n    ) {\n      return true\n    }\n  }\n\n  return false\n}\n\n\n// A cmp function for determining the leftmost event\nfunction compareDaySegCols(a: Seg, b: Seg) {\n  return a.leftCol - b.leftCol\n}\n","import {\n  htmlToElement, Seg\n} from '@fullcalendar/core'\nimport DayGridEventRenderer from './DayGridEventRenderer'\n\n\nexport default class DayGridMirrorRenderer extends DayGridEventRenderer {\n\n  attachSegs(segs: Seg[], mirrorInfo) {\n    let { sourceSeg } = mirrorInfo\n    let rowStructs = this.rowStructs = this.renderSegRows(segs)\n\n    // inject each new event skeleton into each associated row\n    this.dayGrid.rowEls.forEach(function(rowNode, row) {\n      let skeletonEl = htmlToElement('<div class=\"fc-mirror-skeleton\"><table></table></div>') // will be absolutely positioned\n      let skeletonTopEl: HTMLElement\n      let skeletonTop\n\n      // If there is an original segment, match the top position. Otherwise, put it at the row's top level\n      if (sourceSeg && sourceSeg.row === row) {\n        skeletonTopEl = sourceSeg.el\n      } else {\n        skeletonTopEl = rowNode.querySelector('.fc-content-skeleton tbody')\n\n        if (!skeletonTopEl) { // when no events\n          skeletonTopEl = rowNode.querySelector('.fc-content-skeleton table')\n        }\n      }\n\n      skeletonTop = skeletonTopEl.getBoundingClientRect().top -\n        rowNode.getBoundingClientRect().top // the offsetParent origin\n\n      skeletonEl.style.top = skeletonTop + 'px'\n      skeletonEl.querySelector('table').appendChild(rowStructs[row].tbodyEl)\n\n      rowNode.appendChild(skeletonEl)\n    })\n  }\n\n}\n","import {\n  htmlToElement,\n  appendToElement,\n  prependToElement,\n  FillRenderer,\n  Seg\n} from '@fullcalendar/core'\nimport DayGrid, { DayGridSeg } from './DayGrid'\n\n\nconst EMPTY_CELL_HTML = '<td style=\"pointer-events:none\"></td>'\n\n\nexport default class DayGridFillRenderer extends FillRenderer {\n\n  fillSegTag: string = 'td' // override the default tag name\n  dayGrid: DayGrid\n\n  constructor(dayGrid: DayGrid) {\n    super(dayGrid.context)\n\n    this.dayGrid = dayGrid\n  }\n\n  renderSegs(type: string, segs: DayGridSeg[]) {\n\n    // don't render timed background events\n    if (type === 'bgEvent') {\n      segs = segs.filter(function(seg) {\n        return seg.eventRange.def.allDay\n      })\n    }\n\n    super.renderSegs(type, segs)\n  }\n\n  attachSegs(type, segs: Seg[]) {\n    let els = []\n    let i\n    let seg\n    let skeletonEl: HTMLElement\n\n    for (i = 0; i < segs.length; i++) {\n      seg = segs[i]\n      skeletonEl = this.renderFillRow(type, seg)\n      this.dayGrid.rowEls[seg.row].appendChild(skeletonEl)\n      els.push(skeletonEl)\n    }\n\n    return els\n  }\n\n  // Generates the HTML needed for one row of a fill. Requires the seg's el to be rendered.\n  renderFillRow(type, seg: Seg): HTMLElement {\n    let { dayGrid } = this\n    let { colCnt, isRtl } = dayGrid\n    let leftCol = isRtl ? (colCnt - 1 - seg.lastCol) : seg.firstCol\n    let rightCol = isRtl ? (colCnt - 1 - seg.firstCol) : seg.lastCol\n    let startCol = leftCol\n    let endCol = rightCol + 1\n    let className\n    let skeletonEl: HTMLElement\n    let trEl: HTMLTableRowElement\n\n    if (type === 'businessHours') {\n      className = 'bgevent'\n    } else {\n      className = type.toLowerCase()\n    }\n\n    skeletonEl = htmlToElement(\n      '<div class=\"fc-' + className + '-skeleton\">' +\n        '<table><tr></tr></table>' +\n      '</div>'\n    )\n    trEl = skeletonEl.getElementsByTagName('tr')[0]\n\n    if (startCol > 0) {\n      appendToElement(trEl,\n        // will create (startCol + 1) td's\n        new Array(startCol + 1).join(EMPTY_CELL_HTML)\n      )\n    }\n\n    (seg.el as HTMLTableCellElement).colSpan = endCol - startCol\n    trEl.appendChild(seg.el)\n\n    if (endCol < colCnt) {\n      appendToElement(trEl,\n        // will create (colCnt - endCol) td's\n        new Array(colCnt - endCol + 1).join(EMPTY_CELL_HTML)\n      )\n    }\n\n    let introHtml = dayGrid.renderProps.renderIntroHtml()\n    if (introHtml) {\n      if (dayGrid.isRtl) {\n        appendToElement(trEl, introHtml)\n      } else {\n        prependToElement(trEl, introHtml)\n      }\n    }\n\n    return skeletonEl\n  }\n\n}\n","import {\n  DateComponent, Seg,\n  htmlEscape,\n  createFormatter,\n  Hit,\n  addDays, DateMarker,\n  removeElement,\n  ComponentContext,\n  EventInstanceHash,\n  memoizeRendering, MemoizedRendering\n} from '@fullcalendar/core'\nimport SimpleDayGridEventRenderer from './SimpleDayGridEventRenderer'\n\nexport interface DayTileProps {\n  date: DateMarker\n  fgSegs: Seg[]\n  eventSelection: string\n  eventDragInstances: EventInstanceHash\n  eventResizeInstances: EventInstanceHash\n}\n\nexport default class DayTile extends DateComponent<DayTileProps> {\n\n  segContainerEl: HTMLElement\n\n  private renderFrame: MemoizedRendering<[DateMarker]>\n  private renderFgEvents: MemoizedRendering<[Seg[]]>\n  private renderEventSelection: MemoizedRendering<[string]>\n  private renderEventDrag: MemoizedRendering<[EventInstanceHash]>\n  private renderEventResize: MemoizedRendering<[EventInstanceHash]>\n\n  constructor(context: ComponentContext, el: HTMLElement) {\n    super(context, el)\n\n    let eventRenderer = this.eventRenderer = new DayTileEventRenderer(this)\n\n    let renderFrame = this.renderFrame = memoizeRendering(\n      this._renderFrame\n    )\n\n    this.renderFgEvents = memoizeRendering(\n      eventRenderer.renderSegs.bind(eventRenderer),\n      eventRenderer.unrender.bind(eventRenderer),\n      [ renderFrame ]\n    )\n\n    this.renderEventSelection = memoizeRendering(\n      eventRenderer.selectByInstanceId.bind(eventRenderer),\n      eventRenderer.unselectByInstanceId.bind(eventRenderer),\n      [ this.renderFgEvents ]\n    )\n\n    this.renderEventDrag = memoizeRendering(\n      eventRenderer.hideByHash.bind(eventRenderer),\n      eventRenderer.showByHash.bind(eventRenderer),\n      [ renderFrame ]\n    )\n\n    this.renderEventResize = memoizeRendering(\n      eventRenderer.hideByHash.bind(eventRenderer),\n      eventRenderer.showByHash.bind(eventRenderer),\n      [ renderFrame ]\n    )\n\n    context.calendar.registerInteractiveComponent(this, {\n      el: this.el,\n      useEventCenter: false\n    })\n  }\n\n  render(props: DayTileProps) {\n    this.renderFrame(props.date)\n    this.renderFgEvents(props.fgSegs)\n    this.renderEventSelection(props.eventSelection)\n    this.renderEventDrag(props.eventDragInstances)\n    this.renderEventResize(props.eventResizeInstances)\n  }\n\n  destroy() {\n    super.destroy()\n\n    this.renderFrame.unrender() // should unrender everything else\n\n    this.calendar.unregisterInteractiveComponent(this)\n  }\n\n  _renderFrame(date: DateMarker) {\n    let { theme, dateEnv } = this\n\n    let title = dateEnv.format(\n      date,\n      createFormatter(this.opt('dayPopoverFormat')) // TODO: cache\n    )\n\n    this.el.innerHTML =\n      '<div class=\"fc-header ' + theme.getClass('popoverHeader') + '\">' +\n        '<span class=\"fc-title\">' +\n          htmlEscape(title) +\n        '</span>' +\n        '<span class=\"fc-close ' + theme.getIconClass('close') + '\"></span>' +\n      '</div>' +\n      '<div class=\"fc-body ' + theme.getClass('popoverContent') + '\">' +\n        '<div class=\"fc-event-container\"></div>' +\n      '</div>'\n\n    this.segContainerEl = this.el.querySelector('.fc-event-container')\n  }\n\n  queryHit(positionLeft: number, positionTop: number, elWidth: number, elHeight: number): Hit | null {\n    let date = (this.props as any).date // HACK\n\n    if (positionLeft < elWidth && positionTop < elHeight) {\n      return {\n        component: this,\n        dateSpan: {\n          allDay: true,\n          range: { start: date, end: addDays(date, 1) }\n        },\n        dayEl: this.el,\n        rect: {\n          left: 0,\n          top: 0,\n          right: elWidth,\n          bottom: elHeight\n        },\n        layer: 1\n      }\n    }\n  }\n\n}\n\n\nexport class DayTileEventRenderer extends SimpleDayGridEventRenderer {\n\n  dayTile: DayTile\n\n  constructor(dayTile) {\n    super(dayTile.context)\n\n    this.dayTile = dayTile\n  }\n\n  attachSegs(segs: Seg[]) {\n    for (let seg of segs) {\n      this.dayTile.segContainerEl.appendChild(seg.el)\n    }\n  }\n\n  detachSegs(segs: Seg[]) {\n    for (let seg of segs) {\n      removeElement(seg.el)\n    }\n  }\n\n}\n","import {\n  ComponentContext,\n  DateMarker,\n  getDayClasses,\n  rangeContainsMarker,\n  DateProfile\n} from '@fullcalendar/core'\n\nexport interface DayBgCell {\n  date: DateMarker\n  htmlAttrs?: string\n}\n\nexport interface DayBgRowProps {\n  cells: DayBgCell[]\n  dateProfile: DateProfile\n  renderIntroHtml?: () => string\n}\n\nexport default class DayBgRow {\n\n  context: ComponentContext\n\n  constructor(context: ComponentContext) {\n    this.context = context\n  }\n\n  renderHtml(props: DayBgRowProps) {\n    let parts = []\n\n    if (props.renderIntroHtml) {\n      parts.push(props.renderIntroHtml())\n    }\n\n    for (let cell of props.cells) {\n      parts.push(\n        renderCellHtml(\n          cell.date,\n          props.dateProfile,\n          this.context,\n          cell.htmlAttrs\n        )\n      )\n    }\n\n    if (!props.cells.length) {\n      parts.push('<td class=\"fc-day ' + this.context.theme.getClass('widgetContent') + '\"></td>')\n    }\n\n    if (this.context.options.dir === 'rtl') {\n      parts.reverse()\n    }\n\n    return '<tr>' + parts.join('') + '</tr>'\n  }\n\n}\n\nfunction renderCellHtml(date: DateMarker, dateProfile: DateProfile, context: ComponentContext, otherAttrs?) {\n  let { dateEnv, theme } = context\n  let isDateValid = rangeContainsMarker(dateProfile.activeRange, date) // TODO: called too frequently. cache somehow.\n  let classes = getDayClasses(date, dateProfile, context)\n\n  classes.unshift('fc-day', theme.getClass('widgetContent'))\n\n  return '<td class=\"' + classes.join(' ') + '\"' +\n    (isDateValid ?\n      ' data-date=\"' + dateEnv.formatIso(date, { omitTime: true }) + '\"' :\n      '') +\n    (otherAttrs ?\n      ' ' + otherAttrs :\n      '') +\n    '></td>'\n}\n","import {\n  createElement,\n  insertAfterElement,\n  findElements,\n  findChildren,\n  removeElement,\n  computeRect,\n  PositionCache,\n  addDays,\n  DateMarker,\n  createFormatter,\n  DateComponent,\n  EventSegUiInteractionState,\n  Seg,\n  rangeContainsMarker,\n  intersectRanges,\n  EventRenderRange,\n  buildGotoAnchorHtml,\n  getDayClasses,\n  DateProfile,\n  memoizeRendering,\n  MemoizedRendering\n} from '@fullcalendar/core'\nimport Popover from './Popover'\nimport DayGridEventRenderer from './DayGridEventRenderer'\nimport DayGridMirrorRenderer from './DayGridMirrorRenderer'\nimport DayGridFillRenderer from './DayGridFillRenderer'\nimport DayTile from './DayTile'\nimport DayBgRow from './DayBgRow'\n\nconst DAY_NUM_FORMAT = createFormatter({ day: 'numeric' })\nconst WEEK_NUM_FORMAT = createFormatter({ week: 'numeric' })\n\n\n/* A component that renders a grid of whole-days that runs horizontally. There can be multiple rows, one per week.\n----------------------------------------------------------------------------------------------------------------------*/\n\nexport interface RenderProps { // TODO: combine with DayGridProps\n  renderNumberIntroHtml: (row: number, dayGrid: DayGrid) => string\n  renderBgIntroHtml: () => string\n  renderIntroHtml: () => string\n  colWeekNumbersVisible: boolean // week numbers render in own column? (caller does HTML via intro)\n  cellWeekNumbersVisible: boolean // display week numbers in day cell?\n}\n\nexport interface DayGridSeg extends Seg {\n  row: number\n  firstCol: number\n  lastCol: number\n}\n\nexport interface DayGridCell {\n  date: DateMarker\n  htmlAttrs?: string\n}\n\nexport interface DayGridProps {\n  dateProfile: DateProfile\n  cells: DayGridCell[][]\n  businessHourSegs: DayGridSeg[]\n  bgEventSegs: DayGridSeg[]\n  fgEventSegs: DayGridSeg[]\n  dateSelectionSegs: DayGridSeg[]\n  eventSelection: string\n  eventDrag: EventSegUiInteractionState | null\n  eventResize: EventSegUiInteractionState | null\n\n  // isRigid determines whether the individual rows should ignore the contents and be a constant height.\n  // Relies on the view's colCnt and rowCnt. In the future, this component should probably be self-sufficient.\n  isRigid: boolean\n}\n\nexport default class DayGrid extends DateComponent<DayGridProps> {\n\n  eventRenderer: DayGridEventRenderer\n  renderProps: RenderProps\n\n  rowCnt: number\n  colCnt: number\n\n  bottomCoordPadding: number = 0 // hack for extending the hit area for the last row of the coordinate grid\n\n  rowEls: HTMLElement[] // set of fake row elements\n  cellEls: HTMLElement[] // set of whole-day elements comprising the row's background\n\n  isCellSizesDirty: boolean = false\n  rowPositions: PositionCache\n  colPositions: PositionCache\n\n  segPopover: Popover // the Popover that holds events that can't fit in a cell. null when not visible\n  segPopoverTile: DayTile\n\n  private renderCells: MemoizedRendering<[DayGridCell[][], boolean]>\n  private renderBusinessHours: MemoizedRendering<[DayGridSeg[]]>\n  private renderDateSelection: MemoizedRendering<[DayGridSeg[]]>\n  private renderBgEvents: MemoizedRendering<[DayGridSeg[]]>\n  private renderFgEvents: MemoizedRendering<[DayGridSeg[]]>\n  private renderEventSelection: MemoizedRendering<[string]>\n  private renderEventDrag: MemoizedRendering<[EventSegUiInteractionState]>\n  private renderEventResize: MemoizedRendering<[EventSegUiInteractionState]>\n\n\n  constructor(context, el, renderProps: RenderProps) {\n    super(context, el)\n\n    let eventRenderer = this.eventRenderer = new DayGridEventRenderer(this)\n    let fillRenderer = this.fillRenderer = new DayGridFillRenderer(this)\n    this.mirrorRenderer = new DayGridMirrorRenderer(this)\n\n    let renderCells = this.renderCells = memoizeRendering(\n      this._renderCells,\n      this._unrenderCells\n    )\n\n    this.renderBusinessHours = memoizeRendering(\n      fillRenderer.renderSegs.bind(fillRenderer, 'businessHours'),\n      fillRenderer.unrender.bind(fillRenderer, 'businessHours'),\n      [ renderCells ]\n    )\n\n    this.renderDateSelection = memoizeRendering(\n      fillRenderer.renderSegs.bind(fillRenderer, 'highlight'),\n      fillRenderer.unrender.bind(fillRenderer, 'highlight'),\n      [ renderCells ]\n    )\n\n    this.renderBgEvents = memoizeRendering(\n      fillRenderer.renderSegs.bind(fillRenderer, 'bgEvent'),\n      fillRenderer.unrender.bind(fillRenderer, 'bgEvent'),\n      [ renderCells ]\n    )\n\n    this.renderFgEvents = memoizeRendering(\n      eventRenderer.renderSegs.bind(eventRenderer),\n      eventRenderer.unrender.bind(eventRenderer),\n      [ renderCells ]\n    )\n\n    this.renderEventSelection = memoizeRendering(\n      eventRenderer.selectByInstanceId.bind(eventRenderer),\n      eventRenderer.unselectByInstanceId.bind(eventRenderer),\n      [ this.renderFgEvents ]\n    )\n\n    this.renderEventDrag = memoizeRendering(\n      this._renderEventDrag,\n      this._unrenderEventDrag,\n      [ renderCells ]\n    )\n\n    this.renderEventResize = memoizeRendering(\n      this._renderEventResize,\n      this._unrenderEventResize,\n      [ renderCells ]\n    )\n\n    this.renderProps = renderProps\n  }\n\n\n  render(props: DayGridProps) {\n    let cells = props.cells\n    this.rowCnt = cells.length\n    this.colCnt = cells[0].length\n\n    this.renderCells(cells, props.isRigid)\n    this.renderBusinessHours(props.businessHourSegs)\n    this.renderDateSelection(props.dateSelectionSegs)\n    this.renderBgEvents(props.bgEventSegs)\n    this.renderFgEvents(props.fgEventSegs)\n    this.renderEventSelection(props.eventSelection)\n    this.renderEventDrag(props.eventDrag)\n    this.renderEventResize(props.eventResize)\n\n    if (this.segPopoverTile) {\n      this.updateSegPopoverTile()\n    }\n  }\n\n\n  destroy() {\n    super.destroy()\n\n    this.renderCells.unrender() // will unrender everything else\n  }\n\n\n  getCellRange(row, col) {\n    let start = this.props.cells[row][col].date\n    let end = addDays(start, 1)\n\n    return { start, end }\n  }\n\n\n  updateSegPopoverTile(date?, segs?) {\n    let ownProps = this.props\n\n    this.segPopoverTile.receiveProps({\n      date: date || (this.segPopoverTile.props as any).date,\n      fgSegs: segs || (this.segPopoverTile.props as any).fgSegs,\n      eventSelection: ownProps.eventSelection,\n      eventDragInstances: ownProps.eventDrag ? ownProps.eventDrag.affectedInstances : null,\n      eventResizeInstances: ownProps.eventResize ? ownProps.eventResize.affectedInstances : null\n    })\n  }\n\n\n  /* Date Rendering\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  _renderCells(cells: DayGridCell[][], isRigid: boolean) {\n    let { view, dateEnv } = this\n    let { rowCnt, colCnt } = this\n    let html = ''\n    let row\n    let col\n\n    for (row = 0; row < rowCnt; row++) {\n      html += this.renderDayRowHtml(row, isRigid)\n    }\n    this.el.innerHTML = html\n\n    this.rowEls = findElements(this.el, '.fc-row')\n    this.cellEls = findElements(this.el, '.fc-day, .fc-disabled-day')\n\n    if (this.isRtl) {\n      this.cellEls.reverse()\n    }\n\n    this.rowPositions = new PositionCache(\n      this.el,\n      this.rowEls,\n      false,\n      true // vertical\n    )\n\n    this.colPositions = new PositionCache(\n      this.el,\n      this.cellEls.slice(0, colCnt), // only the first row\n      true,\n      false // horizontal\n    )\n\n    // trigger dayRender with each cell's element\n    for (row = 0; row < rowCnt; row++) {\n      for (col = 0; col < colCnt; col++) {\n        this.publiclyTrigger('dayRender', [\n          {\n            date: dateEnv.toDate(cells[row][col].date),\n            el: this.getCellEl(row, col),\n            view\n          }\n        ])\n      }\n    }\n\n    this.isCellSizesDirty = true\n  }\n\n\n  _unrenderCells() {\n    this.removeSegPopover()\n  }\n\n\n  // Generates the HTML for a single row, which is a div that wraps a table.\n  // `row` is the row number.\n  renderDayRowHtml(row, isRigid) {\n    let { theme } = this\n    let classes = [ 'fc-row', 'fc-week', theme.getClass('dayRow') ]\n\n    if (isRigid) {\n      classes.push('fc-rigid')\n    }\n\n    let bgRow = new DayBgRow(this.context)\n\n    return '' +\n      '<div class=\"' + classes.join(' ') + '\">' +\n        '<div class=\"fc-bg\">' +\n          '<table class=\"' + theme.getClass('tableGrid') + '\">' +\n            bgRow.renderHtml({\n              cells: this.props.cells[row],\n              dateProfile: this.props.dateProfile,\n              renderIntroHtml: this.renderProps.renderBgIntroHtml\n            }) +\n          '</table>' +\n        '</div>' +\n        '<div class=\"fc-content-skeleton\">' +\n          '<table>' +\n            (this.getIsNumbersVisible() ?\n              '<thead>' +\n                this.renderNumberTrHtml(row) +\n              '</thead>' :\n              ''\n              ) +\n          '</table>' +\n        '</div>' +\n      '</div>'\n  }\n\n\n  getIsNumbersVisible() {\n    return this.getIsDayNumbersVisible() ||\n      this.renderProps.cellWeekNumbersVisible ||\n      this.renderProps.colWeekNumbersVisible\n  }\n\n\n  getIsDayNumbersVisible() {\n    return this.rowCnt > 1\n  }\n\n\n  /* Grid Number Rendering\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  renderNumberTrHtml(row: number) {\n    let intro = this.renderProps.renderNumberIntroHtml(row, this)\n\n    return '' +\n      '<tr>' +\n        (this.isRtl ? '' : intro) +\n        this.renderNumberCellsHtml(row) +\n        (this.isRtl ? intro : '') +\n      '</tr>'\n  }\n\n\n  renderNumberCellsHtml(row) {\n    let htmls = []\n    let col\n    let date\n\n    for (col = 0; col < this.colCnt; col++) {\n      date = this.props.cells[row][col].date\n      htmls.push(this.renderNumberCellHtml(date))\n    }\n\n    if (this.isRtl) {\n      htmls.reverse()\n    }\n\n    return htmls.join('')\n  }\n\n\n  // Generates the HTML for the <td>s of the \"number\" row in the DayGrid's content skeleton.\n  // The number row will only exist if either day numbers or week numbers are turned on.\n  renderNumberCellHtml(date) {\n    let { view, dateEnv } = this\n    let html = ''\n    let isDateValid = rangeContainsMarker(this.props.dateProfile.activeRange, date) // TODO: called too frequently. cache somehow.\n    let isDayNumberVisible = this.getIsDayNumbersVisible() && isDateValid\n    let classes\n    let weekCalcFirstDow\n\n    if (!isDayNumberVisible && !this.renderProps.cellWeekNumbersVisible) {\n      // no numbers in day cell (week number must be along the side)\n      return '<td></td>' //  will create an empty space above events :(\n    }\n\n    classes = getDayClasses(date, this.props.dateProfile, this.context)\n    classes.unshift('fc-day-top')\n\n    if (this.renderProps.cellWeekNumbersVisible) {\n      weekCalcFirstDow = dateEnv.weekDow\n    }\n\n    html += '<td class=\"' + classes.join(' ') + '\"' +\n      (isDateValid ?\n        ' data-date=\"' + dateEnv.formatIso(date, { omitTime: true }) + '\"' :\n        ''\n        ) +\n      '>'\n\n    if (this.renderProps.cellWeekNumbersVisible && (date.getUTCDay() === weekCalcFirstDow)) {\n      html += buildGotoAnchorHtml(\n        view,\n        { date, type: 'week' },\n        { 'class': 'fc-week-number' },\n        dateEnv.format(date, WEEK_NUM_FORMAT) // inner HTML\n      )\n    }\n\n    if (isDayNumberVisible) {\n      html += buildGotoAnchorHtml(\n        view,\n        date,\n        { 'class': 'fc-day-number' },\n        dateEnv.format(date, DAY_NUM_FORMAT) // inner HTML\n      )\n    }\n\n    html += '</td>'\n\n    return html\n  }\n\n\n  /* Sizing\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  updateSize(isResize: boolean) {\n    let { fillRenderer, eventRenderer, mirrorRenderer } = this\n\n    if (\n      isResize ||\n      this.isCellSizesDirty ||\n      this.view.calendar.isEventsUpdated // hack\n    ) {\n      this.buildPositionCaches()\n      this.isCellSizesDirty = false\n    }\n\n    fillRenderer.computeSizes(isResize)\n    eventRenderer.computeSizes(isResize)\n    mirrorRenderer.computeSizes(isResize)\n\n    fillRenderer.assignSizes(isResize)\n    eventRenderer.assignSizes(isResize)\n    mirrorRenderer.assignSizes(isResize)\n  }\n\n\n  buildPositionCaches() {\n    this.buildColPositions()\n    this.buildRowPositions()\n  }\n\n\n  buildColPositions() {\n    this.colPositions.build()\n  }\n\n\n  buildRowPositions() {\n    this.rowPositions.build()\n    this.rowPositions.bottoms[this.rowCnt - 1] += this.bottomCoordPadding // hack\n  }\n\n\n  /* Hit System\n  ------------------------------------------------------------------------------------------------------------------*/\n\n  positionToHit(leftPosition, topPosition) {\n    let { colPositions, rowPositions } = this\n\n    let col = colPositions.leftToIndex(leftPosition)\n    let row = rowPositions.topToIndex(topPosition)\n\n    if (row != null && col != null) {\n      return {\n        row,\n        col,\n        dateSpan: {\n          range: this.getCellRange(row, col),\n          allDay: true\n        },\n        dayEl: this.getCellEl(row, col),\n        relativeRect: {\n          left: colPositions.lefts[col],\n          right: colPositions.rights[col],\n          top: rowPositions.tops[row],\n          bottom: rowPositions.bottoms[row]\n        }\n      }\n    }\n  }\n\n\n  /* Cell System\n  ------------------------------------------------------------------------------------------------------------------*/\n  // FYI: the first column is the leftmost column, regardless of date\n\n\n  getCellEl(row, col) {\n    return this.cellEls[row * this.colCnt + col]\n  }\n\n\n  /* Event Drag Visualization\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  _renderEventDrag(state: EventSegUiInteractionState) {\n    if (state) {\n      this.eventRenderer.hideByHash(state.affectedInstances)\n      this.fillRenderer.renderSegs('highlight', state.segs)\n    }\n  }\n\n\n  _unrenderEventDrag(state: EventSegUiInteractionState) {\n    if (state) {\n      this.eventRenderer.showByHash(state.affectedInstances)\n      this.fillRenderer.unrender('highlight')\n    }\n  }\n\n\n  /* Event Resize Visualization\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  _renderEventResize(state: EventSegUiInteractionState) {\n    if (state) {\n      this.eventRenderer.hideByHash(state.affectedInstances)\n      this.fillRenderer.renderSegs('highlight', state.segs)\n      this.mirrorRenderer.renderSegs(state.segs, { isResizing: true, sourceSeg: state.sourceSeg })\n    }\n  }\n\n\n  _unrenderEventResize(state: EventSegUiInteractionState) {\n    if (state) {\n      this.eventRenderer.showByHash(state.affectedInstances)\n      this.fillRenderer.unrender('highlight')\n      this.mirrorRenderer.unrender(state.segs, { isResizing: true, sourceSeg: state.sourceSeg })\n    }\n  }\n\n\n  /* More+ Link Popover\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  removeSegPopover() {\n    if (this.segPopover) {\n      this.segPopover.hide() // in handler, will call segPopover's removeElement\n    }\n  }\n\n\n  // Limits the number of \"levels\" (vertically stacking layers of events) for each row of the grid.\n  // `levelLimit` can be false (don't limit), a number, or true (should be computed).\n  limitRows(levelLimit) {\n    let rowStructs = this.eventRenderer.rowStructs || []\n    let row // row #\n    let rowLevelLimit\n\n    for (row = 0; row < rowStructs.length; row++) {\n      this.unlimitRow(row)\n\n      if (!levelLimit) {\n        rowLevelLimit = false\n      } else if (typeof levelLimit === 'number') {\n        rowLevelLimit = levelLimit\n      } else {\n        rowLevelLimit = this.computeRowLevelLimit(row)\n      }\n\n      if (rowLevelLimit !== false) {\n        this.limitRow(row, rowLevelLimit)\n      }\n    }\n  }\n\n\n  // Computes the number of levels a row will accomodate without going outside its bounds.\n  // Assumes the row is \"rigid\" (maintains a constant height regardless of what is inside).\n  // `row` is the row number.\n  computeRowLevelLimit(row): (number | false) {\n    let rowEl = this.rowEls[row] // the containing \"fake\" row div\n    let rowBottom = rowEl.getBoundingClientRect().bottom // relative to viewport!\n    let trEls = findChildren(this.eventRenderer.rowStructs[row].tbodyEl) as HTMLTableRowElement[]\n    let i\n    let trEl: HTMLTableRowElement\n\n    // Reveal one level <tr> at a time and stop when we find one out of bounds\n    for (i = 0; i < trEls.length; i++) {\n      trEl = trEls[i]\n      trEl.classList.remove('fc-limited') // reset to original state (reveal)\n\n      if (trEl.getBoundingClientRect().bottom > rowBottom) {\n        return i\n      }\n    }\n\n    return false // should not limit at all\n  }\n\n\n  // Limits the given grid row to the maximum number of levels and injects \"more\" links if necessary.\n  // `row` is the row number.\n  // `levelLimit` is a number for the maximum (inclusive) number of levels allowed.\n  limitRow(row, levelLimit) {\n    let { colCnt, isRtl } = this\n    let rowStruct = this.eventRenderer.rowStructs[row]\n    let moreNodes = [] // array of \"more\" <a> links and <td> DOM nodes\n    let col = 0 // col #, left-to-right (not chronologically)\n    let levelSegs // array of segment objects in the last allowable level, ordered left-to-right\n    let cellMatrix // a matrix (by level, then column) of all <td> elements in the row\n    let limitedNodes // array of temporarily hidden level <tr> and segment <td> DOM nodes\n    let i\n    let seg\n    let segsBelow // array of segment objects below `seg` in the current `col`\n    let totalSegsBelow // total number of segments below `seg` in any of the columns `seg` occupies\n    let colSegsBelow // array of segment arrays, below seg, one for each column (offset from segs's first column)\n    let td: HTMLTableCellElement\n    let rowSpan\n    let segMoreNodes // array of \"more\" <td> cells that will stand-in for the current seg's cell\n    let j\n    let moreTd: HTMLTableCellElement\n    let moreWrap\n    let moreLink\n\n    // Iterates through empty level cells and places \"more\" links inside if need be\n    let emptyCellsUntil = (endCol) => { // goes from current `col` to `endCol`\n      while (col < endCol) {\n        segsBelow = this.getCellSegs(row, col, levelLimit)\n        if (segsBelow.length) {\n          td = cellMatrix[levelLimit - 1][col]\n          moreLink = this.renderMoreLink(row, col, segsBelow)\n          moreWrap = createElement('div', null, moreLink)\n          td.appendChild(moreWrap)\n          moreNodes.push(moreWrap)\n        }\n        col++\n      }\n    }\n\n    if (levelLimit && levelLimit < rowStruct.segLevels.length) { // is it actually over the limit?\n      levelSegs = rowStruct.segLevels[levelLimit - 1]\n      cellMatrix = rowStruct.cellMatrix\n\n      limitedNodes = findChildren(rowStruct.tbodyEl).slice(levelLimit) // get level <tr> elements past the limit\n      limitedNodes.forEach(function(node) {\n        node.classList.add('fc-limited') // hide elements and get a simple DOM-nodes array\n      })\n\n      // iterate though segments in the last allowable level\n      for (i = 0; i < levelSegs.length; i++) {\n        seg = levelSegs[i]\n        let leftCol = isRtl ? (colCnt - 1 - seg.lastCol) : seg.firstCol\n        let rightCol = isRtl ? (colCnt - 1 - seg.firstCol) : seg.lastCol\n\n        emptyCellsUntil(leftCol) // process empty cells before the segment\n\n        // determine *all* segments below `seg` that occupy the same columns\n        colSegsBelow = []\n        totalSegsBelow = 0\n        while (col <= rightCol) {\n          segsBelow = this.getCellSegs(row, col, levelLimit)\n          colSegsBelow.push(segsBelow)\n          totalSegsBelow += segsBelow.length\n          col++\n        }\n\n        if (totalSegsBelow) { // do we need to replace this segment with one or many \"more\" links?\n          td = cellMatrix[levelLimit - 1][leftCol] // the segment's parent cell\n          rowSpan = td.rowSpan || 1\n          segMoreNodes = []\n\n          // make a replacement <td> for each column the segment occupies. will be one for each colspan\n          for (j = 0; j < colSegsBelow.length; j++) {\n            moreTd = createElement('td', { className: 'fc-more-cell', rowSpan }) as HTMLTableCellElement\n            segsBelow = colSegsBelow[j]\n            moreLink = this.renderMoreLink(\n              row,\n              leftCol + j,\n              [ seg ].concat(segsBelow) // count seg as hidden too\n            )\n            moreWrap = createElement('div', null, moreLink)\n            moreTd.appendChild(moreWrap)\n            segMoreNodes.push(moreTd)\n            moreNodes.push(moreTd)\n          }\n\n          td.classList.add('fc-limited')\n          insertAfterElement(td, segMoreNodes)\n\n          limitedNodes.push(td)\n        }\n      }\n\n      emptyCellsUntil(this.colCnt) // finish off the level\n      rowStruct.moreEls = moreNodes // for easy undoing later\n      rowStruct.limitedEls = limitedNodes // for easy undoing later\n    }\n  }\n\n\n  // Reveals all levels and removes all \"more\"-related elements for a grid's row.\n  // `row` is a row number.\n  unlimitRow(row) {\n    let rowStruct = this.eventRenderer.rowStructs[row]\n\n    if (rowStruct.moreEls) {\n      rowStruct.moreEls.forEach(removeElement)\n      rowStruct.moreEls = null\n    }\n\n    if (rowStruct.limitedEls) {\n      rowStruct.limitedEls.forEach(function(limitedEl) {\n        limitedEl.classList.remove('fc-limited')\n      })\n      rowStruct.limitedEls = null\n    }\n  }\n\n\n  // Renders an <a> element that represents hidden event element for a cell.\n  // Responsible for attaching click handler as well.\n  renderMoreLink(row, col, hiddenSegs) {\n    let { view, dateEnv } = this\n\n    let a = createElement('a', { className: 'fc-more' })\n    a.innerText = this.getMoreLinkText(hiddenSegs.length)\n    a.addEventListener('click', (ev) => {\n      let clickOption = this.opt('eventLimitClick')\n      let _col = this.isRtl ? this.colCnt - col - 1 : col // HACK: props.cells has different dir system?\n      let date = this.props.cells[row][_col].date\n      let moreEl = ev.currentTarget as HTMLElement\n      let dayEl = this.getCellEl(row, col)\n      let allSegs = this.getCellSegs(row, col)\n\n      // rescope the segments to be within the cell's date\n      let reslicedAllSegs = this.resliceDaySegs(allSegs, date)\n      let reslicedHiddenSegs = this.resliceDaySegs(hiddenSegs, date)\n\n      if (typeof clickOption === 'function') {\n        // the returned value can be an atomic option\n        clickOption = this.publiclyTrigger('eventLimitClick', [\n          {\n            date: dateEnv.toDate(date),\n            allDay: true,\n            dayEl: dayEl,\n            moreEl: moreEl,\n            segs: reslicedAllSegs,\n            hiddenSegs: reslicedHiddenSegs,\n            jsEvent: ev,\n            view\n          }\n        ])\n      }\n\n      if (clickOption === 'popover') {\n        this.showSegPopover(row, col, moreEl, reslicedAllSegs)\n      } else if (typeof clickOption === 'string') { // a view name\n        view.calendar.zoomTo(date, clickOption)\n      }\n    })\n\n    return a\n  }\n\n\n  // Reveals the popover that displays all events within a cell\n  showSegPopover(row, col, moreLink: HTMLElement, segs) {\n    let { calendar, view, theme } = this\n    let _col = this.isRtl ? this.colCnt - col - 1 : col // HACK: props.cells has different dir system?\n    let moreWrap = moreLink.parentNode as HTMLElement // the <div> wrapper around the <a>\n    let topEl: HTMLElement // the element we want to match the top coordinate of\n    let options\n\n    if (this.rowCnt === 1) {\n      topEl = view.el // will cause the popover to cover any sort of header\n    } else {\n      topEl = this.rowEls[row] // will align with top of row\n    }\n\n    options = {\n      className: 'fc-more-popover ' + theme.getClass('popover'),\n      parentEl: view.el, // will be outside of all scrollers within the view\n      top: computeRect(topEl).top,\n      autoHide: true, // when the user clicks elsewhere, hide the popover\n      content: (el) => {\n        this.segPopoverTile = new DayTile(\n          this.context,\n          el\n        )\n        this.updateSegPopoverTile(\n          this.props.cells[row][_col].date,\n          segs\n        )\n      },\n      hide: () => {\n        this.segPopoverTile.destroy()\n        this.segPopoverTile = null\n        this.segPopover.destroy()\n        this.segPopover = null\n      }\n    }\n\n    // Determine horizontal coordinate.\n    // We use the moreWrap instead of the <td> to avoid border confusion.\n    if (this.isRtl) {\n      options.right = computeRect(moreWrap).right + 1 // +1 to be over cell border\n    } else {\n      options.left = computeRect(moreWrap).left - 1 // -1 to be over cell border\n    }\n\n    this.segPopover = new Popover(options)\n    this.segPopover.show()\n    calendar.releaseAfterSizingTriggers() // hack for eventPositioned\n  }\n\n\n  // Given the events within an array of segment objects, reslice them to be in a single day\n  resliceDaySegs(segs, dayDate) {\n    let dayStart = dayDate\n    let dayEnd = addDays(dayStart, 1)\n    let dayRange = { start: dayStart, end: dayEnd }\n    let newSegs = []\n\n    for (let seg of segs) {\n      let eventRange = seg.eventRange\n      let origRange = eventRange.range\n      let slicedRange = intersectRanges(origRange, dayRange)\n\n      if (slicedRange) {\n        newSegs.push({\n          ...seg,\n          eventRange: {\n            def: eventRange.def,\n            ui: { ...eventRange.ui, durationEditable: false }, // hack to disable resizing\n            instance: eventRange.instance,\n            range: slicedRange\n          } as EventRenderRange,\n          isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(),\n          isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf()\n        })\n      }\n    }\n\n    return newSegs\n  }\n\n\n  // Generates the text that should be inside a \"more\" link, given the number of events it represents\n  getMoreLinkText(num) {\n    let opt = this.opt('eventLimitText')\n\n    if (typeof opt === 'function') {\n      return opt(num)\n    } else {\n      return '+' + num + ' ' + opt\n    }\n  }\n\n\n  // Returns segments within a given cell.\n  // If `startLevel` is specified, returns only events including and below that level. Otherwise returns all segs.\n  getCellSegs(row, col, startLevel?) {\n    let segMatrix = this.eventRenderer.rowStructs[row].segMatrix\n    let level = startLevel || 0\n    let segs = []\n    let seg\n\n    while (level < segMatrix.length) {\n      seg = segMatrix[level][col]\n      if (seg) {\n        segs.push(seg)\n      }\n      level++\n    }\n\n    return segs\n  }\n\n}\n","import {\n  htmlEscape, createElement, findElements,\n  matchCellWidths,\n  uncompensateScroll,\n  compensateScroll,\n  subtractInnerElHeight,\n  distributeHeight,\n  undistributeHeight,\n  createFormatter,\n  ScrollComponent,\n  View,\n  buildGotoAnchorHtml,\n  ComponentContext,\n  ViewSpec,\n  DateProfileGenerator,\n  Duration\n} from '@fullcalendar/core'\nimport DayGridDateProfileGenerator from './DayGridDateProfileGenerator'\nimport DayGrid from './DayGrid'\n\nconst WEEK_NUM_FORMAT = createFormatter({ week: 'numeric' })\n\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a DayGrid subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\n\nexport default abstract class DayGridView extends View {\n\n  scroller: ScrollComponent\n  dayGrid: DayGrid // the main subcomponent that does most of the heavy lifting\n\n  colWeekNumbersVisible: boolean\n  weekNumberWidth: number\n\n\n  constructor(context: ComponentContext, viewSpec: ViewSpec, dateProfileGenerator: DateProfileGenerator, parentEl: HTMLElement) {\n    super(context, viewSpec, dateProfileGenerator, parentEl)\n\n    this.el.classList.add('fc-dayGrid-view')\n    this.el.innerHTML = this.renderSkeletonHtml()\n\n    this.scroller = new ScrollComponent(\n      'hidden', // overflow x\n      'auto' // overflow y\n    )\n\n    let dayGridContainerEl = this.scroller.el\n    this.el.querySelector('.fc-body > tr > td').appendChild(dayGridContainerEl)\n    dayGridContainerEl.classList.add('fc-day-grid-container')\n    let dayGridEl = createElement('div', { className: 'fc-day-grid' })\n    dayGridContainerEl.appendChild(dayGridEl)\n\n    let cellWeekNumbersVisible\n\n    if (this.opt('weekNumbers')) {\n      if (this.opt('weekNumbersWithinDays')) {\n        cellWeekNumbersVisible = true\n        this.colWeekNumbersVisible = false\n      } else {\n        cellWeekNumbersVisible = false\n        this.colWeekNumbersVisible = true\n      }\n    } else {\n      this.colWeekNumbersVisible = false\n      cellWeekNumbersVisible = false\n    }\n\n    this.dayGrid = new DayGrid(\n      this.context,\n      dayGridEl,\n      {\n        renderNumberIntroHtml: this.renderDayGridNumberIntroHtml,\n        renderBgIntroHtml: this.renderDayGridBgIntroHtml,\n        renderIntroHtml: this.renderDayGridIntroHtml,\n        colWeekNumbersVisible: this.colWeekNumbersVisible,\n        cellWeekNumbersVisible\n      }\n    )\n  }\n\n\n  destroy() {\n    super.destroy()\n\n    this.dayGrid.destroy()\n    this.scroller.destroy()\n  }\n\n  // Builds the HTML skeleton for the view.\n  // The day-grid component will render inside of a container defined by this HTML.\n  renderSkeletonHtml() {\n    let { theme } = this\n\n    return '' +\n      '<table class=\"' + theme.getClass('tableGrid') + '\">' +\n        (this.opt('columnHeader') ?\n          '<thead class=\"fc-head\">' +\n            '<tr>' +\n              '<td class=\"fc-head-container ' + theme.getClass('widgetHeader') + '\">&nbsp;</td>' +\n            '</tr>' +\n          '</thead>' :\n          ''\n          ) +\n        '<tbody class=\"fc-body\">' +\n          '<tr>' +\n            '<td class=\"' + theme.getClass('widgetContent') + '\"></td>' +\n          '</tr>' +\n        '</tbody>' +\n      '</table>'\n  }\n\n\n  // Generates an HTML attribute string for setting the width of the week number column, if it is known\n  weekNumberStyleAttr() {\n    if (this.weekNumberWidth != null) {\n      return 'style=\"width:' + this.weekNumberWidth + 'px\"'\n    }\n    return ''\n  }\n\n\n  // Determines whether each row should have a constant height\n  hasRigidRows() {\n    let eventLimit = this.opt('eventLimit')\n\n    return eventLimit && typeof eventLimit !== 'number'\n  }\n\n\n  /* Dimensions\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  updateSize(isResize: boolean, viewHeight: number, isAuto: boolean) {\n    super.updateSize(isResize, viewHeight, isAuto) // will call updateBaseSize. important that executes first\n\n    this.dayGrid.updateSize(isResize)\n  }\n\n\n  // Refreshes the horizontal dimensions of the view\n  updateBaseSize(isResize: boolean, viewHeight: number, isAuto: boolean) {\n    let { dayGrid } = this\n    let eventLimit = this.opt('eventLimit')\n    let headRowEl = (this as any).header ? (this as any).header.el : null // HACK\n    let scrollerHeight\n    let scrollbarWidths\n\n    // hack to give the view some height prior to dayGrid's columns being rendered\n    // TODO: separate setting height from scroller VS dayGrid.\n    if (!dayGrid.rowEls) {\n      if (!isAuto) {\n        scrollerHeight = this.computeScrollerHeight(viewHeight)\n        this.scroller.setHeight(scrollerHeight)\n      }\n      return\n    }\n\n    if (this.colWeekNumbersVisible) {\n      // Make sure all week number cells running down the side have the same width.\n      this.weekNumberWidth = matchCellWidths(\n        findElements(this.el, '.fc-week-number')\n      )\n    }\n\n    // reset all heights to be natural\n    this.scroller.clear()\n    if (headRowEl) {\n      uncompensateScroll(headRowEl)\n    }\n\n    dayGrid.removeSegPopover() // kill the \"more\" popover if displayed\n\n    // is the event limit a constant level number?\n    if (eventLimit && typeof eventLimit === 'number') {\n      dayGrid.limitRows(eventLimit) // limit the levels first so the height can redistribute after\n    }\n\n    // distribute the height to the rows\n    // (viewHeight is a \"recommended\" value if isAuto)\n    scrollerHeight = this.computeScrollerHeight(viewHeight)\n    this.setGridHeight(scrollerHeight, isAuto)\n\n    // is the event limit dynamically calculated?\n    if (eventLimit && typeof eventLimit !== 'number') {\n      dayGrid.limitRows(eventLimit) // limit the levels after the grid's row heights have been set\n    }\n\n    if (!isAuto) { // should we force dimensions of the scroll container?\n\n      this.scroller.setHeight(scrollerHeight)\n      scrollbarWidths = this.scroller.getScrollbarWidths()\n\n      if (scrollbarWidths.left || scrollbarWidths.right) { // using scrollbars?\n\n        if (headRowEl) {\n          compensateScroll(headRowEl, scrollbarWidths)\n        }\n\n        // doing the scrollbar compensation might have created text overflow which created more height. redo\n        scrollerHeight = this.computeScrollerHeight(viewHeight)\n        this.scroller.setHeight(scrollerHeight)\n      }\n\n      // guarantees the same scrollbar widths\n      this.scroller.lockOverflow(scrollbarWidths)\n    }\n  }\n\n\n  // given a desired total height of the view, returns what the height of the scroller should be\n  computeScrollerHeight(viewHeight) {\n    return viewHeight -\n      subtractInnerElHeight(this.el, this.scroller.el) // everything that's NOT the scroller\n  }\n\n\n  // Sets the height of just the DayGrid component in this view\n  setGridHeight(height, isAuto) {\n\n    if (this.opt('monthMode')) {\n\n      // if auto, make the height of each row the height that it would be if there were 6 weeks\n      if (isAuto) {\n        height *= this.dayGrid.rowCnt / 6\n      }\n\n      distributeHeight(this.dayGrid.rowEls, height, !isAuto) // if auto, don't compensate for height-hogging rows\n\n    } else {\n\n      if (isAuto) {\n        undistributeHeight(this.dayGrid.rowEls) // let the rows be their natural height with no expanding\n      } else {\n        distributeHeight(this.dayGrid.rowEls, height, true) // true = compensate for height-hogging rows\n      }\n    }\n  }\n\n\n  /* Scroll\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  computeDateScroll(duration: Duration) {\n    return { top: 0 }\n  }\n\n\n  queryDateScroll() {\n    return { top: this.scroller.getScrollTop() }\n  }\n\n\n  applyDateScroll(scroll) {\n    if (scroll.top !== undefined) {\n      this.scroller.setScrollTop(scroll.top)\n    }\n  }\n\n\n  /* Header Rendering\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  // Generates the HTML that will go before the day-of week header cells\n  renderHeadIntroHtml = () => {\n    let { theme } = this\n\n    if (this.colWeekNumbersVisible) {\n      return '' +\n        '<th class=\"fc-week-number ' + theme.getClass('widgetHeader') + '\" ' + this.weekNumberStyleAttr() + '>' +\n          '<span>' + // needed for matchCellWidths\n            htmlEscape(this.opt('weekLabel')) +\n          '</span>' +\n        '</th>'\n    }\n\n    return ''\n  }\n\n\n  /* Day Grid Rendering\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  // Generates the HTML that will go before content-skeleton cells that display the day/week numbers\n  renderDayGridNumberIntroHtml = (row: number, dayGrid: DayGrid) => {\n    let { dateEnv } = this\n    let weekStart = dayGrid.props.cells[row][0].date\n\n    if (this.colWeekNumbersVisible) {\n      return '' +\n        '<td class=\"fc-week-number\" ' + this.weekNumberStyleAttr() + '>' +\n          buildGotoAnchorHtml( // aside from link, important for matchCellWidths\n            this,\n            { date: weekStart, type: 'week', forceOff: dayGrid.colCnt === 1 },\n            dateEnv.format(weekStart, WEEK_NUM_FORMAT) // inner HTML\n          ) +\n        '</td>'\n    }\n\n    return ''\n  }\n\n\n  // Generates the HTML that goes before the day bg cells for each day-row\n  renderDayGridBgIntroHtml = () => {\n    let { theme } = this\n\n    if (this.colWeekNumbersVisible) {\n      return '<td class=\"fc-week-number ' + theme.getClass('widgetContent') + '\" ' + this.weekNumberStyleAttr() + '></td>'\n    }\n\n    return ''\n  }\n\n\n  // Generates the HTML that goes before every other type of row generated by DayGrid.\n  // Affects mirror-skeleton and highlight-skeleton rows.\n  renderDayGridIntroHtml = () => {\n\n    if (this.colWeekNumbersVisible) {\n      return '<td class=\"fc-week-number\" ' + this.weekNumberStyleAttr() + '></td>'\n    }\n\n    return ''\n  }\n\n}\n\nDayGridView.prototype.dateProfileGeneratorClass = DayGridDateProfileGenerator\n","import {\n  DateProfile,\n  EventStore,\n  EventUiHash,\n  DateSpan,\n  EventInteractionState,\n  DayTable,\n  Duration,\n  DateComponent,\n  DateRange,\n  Slicer,\n  Hit,\n  ComponentContext\n} from '@fullcalendar/core'\nimport { default as DayGrid, DayGridSeg } from './DayGrid'\n\nexport interface SimpleDayGridProps {\n  dateProfile: DateProfile | null\n  dayTable: DayTable\n  nextDayThreshold: Duration\n  businessHours: EventStore\n  eventStore: EventStore\n  eventUiBases: EventUiHash\n  dateSelection: DateSpan | null\n  eventSelection: string\n  eventDrag: EventInteractionState | null\n  eventResize: EventInteractionState | null\n  isRigid: boolean\n}\n\nexport default class SimpleDayGrid extends DateComponent<SimpleDayGridProps> {\n\n  dayGrid: DayGrid\n\n  private slicer = new DayGridSlicer()\n\n  constructor(context: ComponentContext, dayGrid: DayGrid) {\n    super(context, dayGrid.el)\n\n    this.dayGrid = dayGrid\n\n    context.calendar.registerInteractiveComponent(this, { el: this.dayGrid.el })\n  }\n\n  destroy() {\n    super.destroy()\n\n    this.calendar.unregisterInteractiveComponent(this)\n  }\n\n  render(props: SimpleDayGridProps) {\n    let { dayGrid } = this\n    let { dateProfile, dayTable } = props\n\n    dayGrid.receiveProps({\n      ...this.slicer.sliceProps(props, dateProfile, props.nextDayThreshold, dayGrid, dayTable),\n      dateProfile,\n      cells: dayTable.cells,\n      isRigid: props.isRigid\n    })\n  }\n\n  buildPositionCaches() {\n    this.dayGrid.buildPositionCaches()\n  }\n\n  queryHit(positionLeft: number, positionTop: number): Hit {\n    let rawHit = this.dayGrid.positionToHit(positionLeft, positionTop)\n\n    if (rawHit) {\n      return {\n        component: this.dayGrid,\n        dateSpan: rawHit.dateSpan,\n        dayEl: rawHit.dayEl,\n        rect: {\n          left: rawHit.relativeRect.left,\n          right: rawHit.relativeRect.right,\n          top: rawHit.relativeRect.top,\n          bottom: rawHit.relativeRect.bottom\n        },\n        layer: 0\n      }\n    }\n  }\n\n}\n\n\nexport class DayGridSlicer extends Slicer<DayGridSeg, [DayTable]> {\n\n  sliceRange(dateRange: DateRange, dayTable: DayTable): DayGridSeg[] {\n    return dayTable.sliceRange(dateRange)\n  }\n\n}\n","import {\n  DayHeader,\n  ComponentContext,\n  ViewSpec,\n  DateProfileGenerator,\n  DateProfile,\n  ViewProps,\n  memoize,\n  DaySeries,\n  DayTable\n} from '@fullcalendar/core'\nimport AbstractDayGridView from './AbstractDayGridView'\nimport SimpleDayGrid from './SimpleDayGrid'\n\nexport default class DayGridView extends AbstractDayGridView {\n\n  header: DayHeader\n  simpleDayGrid: SimpleDayGrid\n  dayTable: DayTable\n\n  private buildDayTable = memoize(buildDayTable)\n\n  constructor(_context: ComponentContext, viewSpec: ViewSpec, dateProfileGenerator: DateProfileGenerator, parentEl: HTMLElement) {\n    super(_context, viewSpec, dateProfileGenerator, parentEl)\n\n    if (this.opt('columnHeader')) {\n      this.header = new DayHeader(\n        this.context,\n        this.el.querySelector('.fc-head-container')\n      )\n    }\n\n    this.simpleDayGrid = new SimpleDayGrid(this.context, this.dayGrid)\n  }\n\n  destroy() {\n    super.destroy()\n\n    if (this.header) {\n      this.header.destroy()\n    }\n\n    this.simpleDayGrid.destroy()\n  }\n\n  render(props: ViewProps) {\n    super.render(props)\n\n    let { dateProfile } = this.props\n\n    let dayTable = this.dayTable =\n      this.buildDayTable(dateProfile, this.dateProfileGenerator)\n\n    if (this.header) {\n      this.header.receiveProps({\n        dateProfile,\n        dates: dayTable.headerDates,\n        datesRepDistinctDays: dayTable.rowCnt === 1,\n        renderIntroHtml: this.renderHeadIntroHtml\n      })\n    }\n\n    this.simpleDayGrid.receiveProps({\n      dateProfile,\n      dayTable,\n      businessHours: props.businessHours,\n      dateSelection: props.dateSelection,\n      eventStore: props.eventStore,\n      eventUiBases: props.eventUiBases,\n      eventSelection: props.eventSelection,\n      eventDrag: props.eventDrag,\n      eventResize: props.eventResize,\n      isRigid: this.hasRigidRows(),\n      nextDayThreshold: this.nextDayThreshold\n    })\n  }\n\n}\n\nexport function buildDayTable(dateProfile: DateProfile, dateProfileGenerator: DateProfileGenerator) {\n  let daySeries = new DaySeries(dateProfile.renderRange, dateProfileGenerator)\n\n  return new DayTable(\n    daySeries,\n    /year|month|week/.test(dateProfile.currentRangeUnit)\n  )\n}\n","import { createPlugin } from '@fullcalendar/core'\nimport DayGridView from './DayGridView'\n\nexport { default as SimpleDayGrid, DayGridSlicer } from './SimpleDayGrid'\nexport { default as DayGrid, DayGridSeg } from './DayGrid'\nexport { default as AbstractDayGridView } from './AbstractDayGridView'\nexport { default as DayGridView, buildDayTable as buildBasicDayTable } from './DayGridView'\nexport { default as DayBgRow } from './DayBgRow'\n\nexport default createPlugin({\n  defaultView: 'dayGridMonth',\n  views: {\n\n    dayGrid: DayGridView,\n\n    dayGridDay: {\n      type: 'dayGrid',\n      duration: { days: 1 }\n    },\n\n    dayGridWeek: {\n      type: 'dayGrid',\n      duration: { weeks: 1 }\n    },\n\n    dayGridMonth: {\n      type: 'dayGrid',\n      duration: { months: 1 },\n      monthMode: true,\n      fixedWeekCount: true\n    }\n\n  }\n})\n"],"names":["tslib_1.__extends","WEEK_NUM_FORMAT","AbstractDayGridView","DayGridView"],"mappings":"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"}