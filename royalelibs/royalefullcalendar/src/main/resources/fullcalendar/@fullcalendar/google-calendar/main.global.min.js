/*!
FullCalendar v5.6.0
Docs & License: https://fullcalendar.io/
(c) 2020 Adam Shaw
*/
var FullCalendarGoogleCalendar=function(e,a){"use strict";var r=function(){return(r=Object.assign||function(e){for(var a,r=1,n=arguments.length;r<n;r++)for(var t in a=arguments[r])Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t]);return e}).apply(this,arguments)},n={googleCalendarApiKey:String},t={googleCalendarApiKey:String,googleCalendarId:String,googleCalendarApiBase:String,extraParams:a.identity},o={parseMeta:function(e){var a=e.googleCalendarId;return!a&&e.url&&(a=function(e){var a;if(/^[^/]+@([^/.]+\.)*(google|googlemail|gmail)\.com$/.test(e))return e;if((a=/^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^/]*)/.exec(e))||(a=/^https?:\/\/www.google.com\/calendar\/feeds\/([^/]*)/.exec(e)))return decodeURIComponent(a[1]);return null}(e.url)),a?{googleCalendarId:a,googleCalendarApiKey:e.googleCalendarApiKey,googleCalendarApiBase:e.googleCalendarApiBase,extraParams:e.extraParams}:null},fetch:function(e,n,t){var o=e.context,l=o.dateEnv,i=o.options,s=e.eventSource.meta,d=s.googleCalendarApiKey||i.googleCalendarApiKey;if(d){var g=function(e){var a=e.googleCalendarApiBase;a||(a="https://www.googleapis.com/calendar/v3/calendars");return a+"/"+encodeURIComponent(e.googleCalendarId)+"/events"}(s),c=s.extraParams,u="function"==typeof c?c():c,p=function(e,n,t,o){var l,i,s;o.canComputeOffset?(i=o.formatIso(e.start),s=o.formatIso(e.end)):(i=a.addDays(e.start,-1).toISOString(),s=a.addDays(e.end,1).toISOString());l=r(r({},t||{}),{key:n,timeMin:i,timeMax:s,singleEvents:!0,maxResults:9999}),"local"!==o.timeZone&&(l.timeZone=o.timeZone);return l}(e.range,d,u,l);a.requestJson("GET",g,p,(function(e,a){var r,o;e.error?t({message:"Google Calendar API: "+e.error.message,errors:e.error.errors,xhr:a}):n({rawEvents:(r=e.items,o=p.timeZone,r.map((function(e){return function(e,a){var r=e.htmlLink||null;r&&a&&(r=function(e,a){return e.replace(/(\?.*?)?(#|$)/,(function(e,r,n){return(r?r+"&":"?")+a+n}))}(r,"ctz="+a));return{id:e.id,title:e.summary,start:e.start.dateTime||e.start.date,end:e.end.dateTime||e.end.date,url:r,location:e.location,description:e.description,attachments:e.attachments||[],extendedProps:(e.extendedProperties||{}).shared||{}}}(e,o)}))),xhr:a})}),(function(e,a){t({message:e,xhr:a})}))}else t({message:"Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/"})}};var l=a.createPlugin({eventSourceDefs:[o],optionRefiners:n,eventSourceRefiners:t});return a.globalPlugins.push(l),e.default=l,Object.defineProperty(e,"__esModule",{value:!0}),e}({},FullCalendar);